<div class="person-form-dialog-content-wrapper">
  <mat-toolbar matDialogTitle class="mat-accent m-0">
    <mat-toolbar-row fxLayout="row" fxLayoutAlign="space-between center">
      <span class="title dialog-title" *ngIf="action === 'edit'">{{ person.firstName }} {{ person.lastName }}</span>
      <span class="title dialog-title" *ngIf="action === 'new'">{{ newDialogTitle }}</span>
      <button mat-icon-button (click)="dialogRef.close()" aria-label="Sluiten">
        <mat-icon>close</mat-icon>
      </button>
    </mat-toolbar-row>
  </mat-toolbar>

  <div mat-dialog-content class="p-24 pb-0 m-0 dialog-content">

    <app-person-form
      [person]="person"
      [type]="type"
      (formSubmit)="submit($event)"
      (isValid)="this.valid$.next($event)"
    ></app-person-form>

  </div>

  <div mat-dialog-actions class="m-0 p-16" fxLayout="row" fxLayoutAlign="end center">

    <button *ngIf="action === 'edit'"
            mat-button
            class="mr-8"
            (click)="doCancel()"
            matTooltip="Annuleren">
      ANNULEREN
    </button>

    <button *ngIf="action !== 'edit'"
            mat-raised-button
            (click)="doSave()"
            [disabled]="!(valid$ | async)"
            color="accent">
      <mat-icon svgIcon="content-save"></mat-icon>
      AANMAKEN
    </button>

    <button *ngIf="action === 'edit'"
            mat-raised-button
            (click)="doSave()"
            [disabled]="!(valid$ | async)"
            color="accent">
      <mat-icon svgIcon="content-save"></mat-icon>
      OPSLAAN
    </button>

  </div>
</div>
